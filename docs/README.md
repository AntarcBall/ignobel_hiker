# Ignobel Hiker - 등산 경로 분석 도구

안녕하세요! 이 프로젝트는 **GPX 파일**을 기반으로 등산 경로를 분석하고 시각화하는 도구입니다. 등산 경로의 **3차원 지형**, **속도 벡터**, **토투로시티**(경로 왜곡도), **정지 시간**, **리더 지수** 등 다양한 지표를 분석하여 등산 스타일을 이해하고 평가합니다.

## 📋 프로젝트 개요

이 프로젝트는 등산 데이터(GPX 파일)를 기반으로 다음과 같은 분석을 수행합니다:

- **3D 지형 시각화**: 등산 경로를 3차원 지형 위에 시각화
- **속도 분석**: 등산객의 속도 벡터 및 속력 분석
- **토투로시티**: 실제 경로 길이와 직선 거리의 비율 분석
- **정지 분석**: 멈춘 횟수와 총 정지 시간 분석
- **리더 지수**: 그룹 등산 시 선두를 유지한 시간과 거리 분석
- **종합 점수**: 여러 요소를 종합한 등산 스타일 점수

## 📁 폴더 구조

```
ignobel_hiker/
├── src/                    # 주요 소스 코드
│   ├── analysis/           # 분석 관련 모듈
│   ├── api/               # 외부 API 모듈 (고도 데이터 등)
│   ├── config/            # 설정 파일
│   ├── data_processing/   # 데이터 처리 모듈
│   ├── utils/             # 유틸리티 함수
│   └── visualization/     # 시각화 모듈
├── gpx_data/              # 입력 GPX 파일 저장
├── output/                # 출력 파일 저장
├── cache/                 # 캐시 파일 저장
├── venv/                  # 파이썬 가상 환경
├── requirements.txt       # 프로젝트 의존성
├── quick_visualize.py     # 3D 지형 시각화 실행 파일
├── run_velocity_analysis.py # 속도 분석 실행 파일
└── ...
```

## 🛠️ 기술 스택

- **Python 3.x**
- **NumPy**: 수치 계산
- **Matplotlib**: 2D/3D 시각화
- **GPXPy**: GPX 파일 처리
- **Requests**: API 호출

## 📦 설치 방법

1. **Python 가상 환경 생성**
   ```bash
   python -m venv venv
   source venv/bin/activate  # Linux/Mac
   # 또는
   venv\Scripts\activate     # Windows
   ```

2. **의존성 설치**
   ```bash
   pip install -r requirements.txt
   ```

## 🚀 사용 방법

### 1. 3D 지형 시각화

3D 지형과 등산 경로를 시각화하려면:

```bash
python quick_visualize.py
```

이 스크립트는 `gpx_data/` 폴더에 있는 GPX 파일을 읽어 지형과 경로를 3D로 시각화합니다.

### 2. 속도 분석

등산객의 속도, 토투로시티, 정지 시간 등을 분석하려면:

```bash
python run_velocity_analysis.py
```

이 스크립트는 속도 벡터, 토투로시티, 정지 분석, 리더 지수 등을 계산합니다.

### 3. GPX 파일 준비

분석을 위해 등산 경로를 저장한 `.gpx` 파일을 `gpx_data/` 폴더에 넣어주세요.

## 🔍 분석 항목 설명

### 1. 속도 분석
- 등산객의 순간 속도 벡터 계산
- 속력(속도의 크기) 분석
- 시간에 따른 속도 변화 시각화

### 2. 토투로시티 (경로 왜곡도)
- **총 이동 거리** / **시작점-끝점 직선 거리**의 비율
- 경로가 얼마나 비정형적으로 휘었는지 나타냄
- 값이 1에 가까울수록 직선에 가까운 경로

### 3. 정지 분석
- 속도가 0.2m/s 이하로 10초 이상 유지되는 구간을 "정지"로 간주
- 정지 횟수와 총 정지 시간 분석
- 등산 중 휴식 패턴 분석

### 4. 리더 지수 (그룹 등산 시)
- 여러 등산객이 함께 있을 때 선두를 유지한 시간 비율
- 평균 선두 마진(다른 등산객과의 거리)
- 리더 변경 횟수 분석

### 5. 종합 점수
- 위의 다양한 지표를 종합한 등산 스타일 점수
- 3:3:3:3:3:3:3:3:3:1 (토투로시티:속도변화:속도평균:정지횟수:정지시간:리더유지:리더마진:리더변경:총거리:이동시간)의 가중치로 계산

## 📊 출력 결과

분석 결과는 다음과 같은 형식으로 저장됩니다:

- **시각화 이미지**: `output/` 폴더에 2D/3D 그래프 저장
- **분석 데이터**: CSV 또는 텍스트 파일로 수치 결과 저장
- **리포트**: `velocity_analysis_report.md`에 요약 정보

## 🎯 사용 목적

- 등산 스타일 분석 및 비교
- 그룹 등산에서 개인의 역할 분석
- 등산 경로의 특성 이해
- 등산 중 휴식 패턴 분석

## 🔧 모듈 설명

- **analysis/**: 속도, 토투로시티, 정지, 리더 등 분석 모듈
- **api/**: 고도 API 호출 및 캐시 관리
- **config/**: 분석 설정 및 파라미터
- **data_processing/**: GPX 파일 파싱 및 데이터 동기화
- **utils/**: 좌표 변환, 거리 계산 등의 유틸리티
- **visualization/**: 2D/3D 시각화 기능

## 📝 참고 사항

- GPX 파일은 GPS 장치 또는 스마트폰 앱에서 생성 가능
- 고도 데이터는 Google Elevation API를 사용하여 가져옴
- 분석 결과는 캐시에 저장되어 다음 실행 시 빠르게 처리됨

## 🤝 기여

기여는 언제나 환영입니다! 버그 수정, 기능 추가, 문서 개선 등 모두 도와주세요.

1. 이 레포지토리를 포크하세요
2. 새로운 브랜치를 만드세요 (`git checkout -b feature/AmazingFeature`)
3. 변경 사항을 커밋하세요 (`git commit -m 'Add some AmazingFeature'`)
4. 브랜치에 푸시하세요 (`git push origin feature/AmazingFeature`)
5. Pull Request를 생성하세요

## 📜 라이선스

이 프로젝트는 MIT 라이선스를 따릅니다 - 자세한 내용은 `LICENSE` 파일을 참조하세요.